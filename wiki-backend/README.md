# 백엔드 코드 컨벤션

## 일반
- 클래스 선언부와 필드 사이에 **공백** 하나를 추가한다.
- 어노테이션은 **클래스 혹은 메서드와 가장 관련된 것을 선언부**와 가깝게 위치한다.
- 객체 필드와 메소드 파라미터에 `final` 무조건 붙인다.
- 메서드가 **한가지 일**만 담당하도록 구현한다.
- 패키지명은 **단수**로 한다.
- DTO는 매개변수가 3개 이상일 경우 생성한다.
    - DTO 이름은 REST의 CRUD operation과 같게 한다. (Create, Read, Update, Delete)
    - ex) 회원 등록에 관한 DTO -> `UserCreateRequest` / 게시글 수정에 관한 DTO -> `UserUpdateRequest`
- **getter/setter** 없이 구현한다.
    - 핵심 로직을 구현하는 도메인 객체에 getter/setter를 쓰지 않고 구현한다.
    - 단, DTO는 허용한다.
- 도메인 객체 - 생성자 선언 순서
    - 기본 생성자
    - 모든 파라미터를 받는 생성자
    - 이후 파라미터가 많은 생성자가 상단에 오도록 선언

### Dto
#### 팩터리 메서드 패턴

[참고] **이펙티브 자바** 에서는 팩터리 메서드 패턴(Factory Method Pattern)로 구분지어서 사용합니다.
- `from`: 특정 객체로부터 새로운 객체를 생성할 때 사용합니다.
    - 주로 DTO 클래스에서 사용되어 엔티티 객체를 DTO 객체로 변환합니다.
- `of`: 주로 여러 객체를 묶어서 새로운 객체를 생성할 때 사용합니다.
    - Service 클래스나 유틸리티 클래스에서 여러 객체를 하나의 응답 객체로 변환할 때 사용합니다.
- `to`: 현재 객체를 다른 타입의 객체로 변환할 때 사용합니다.
    - 주로 DTO 객체에서 엔티티 객체로 변환할 때 사용됩니다.


## JPA
- 클래스 이름이 MySQL 예약어와 겹치면 매핑되는 테이블 이름은 **복수형**으로 지정한다.
  - ex) Entity Class 이름 = Member -> `@Table(name = "members")`
- 엔티티의 no-args constructor 는 protected 로 지정하고, 최상단에 선언
- `@Column` 어노테이션의 맨 마지막에 nullable 옵션 추가

## 디렉토리 구조
- 계층별 패키지로 구성한다.
  - 회원(Member)이라는 패키지 안에 `domain`, `controller`, `service`, `repository`, `dto`, `exception` 이 있다.
    (현재 기능이 많지 않기 때문에, 처음에는 계층별 패키지로 개발하다가, 기능들이 많아지면 디렉토리 구조를 고민할 예정)